<?php
/** @var T4webAdmin\View\Model\ListViewModel $viewModel */
$viewModel = $this->viewModel()->getCurrent();
?>

<section class="content-header">
    <h1>List of entities</h1>
</section>
<section class="content">

    <?= $viewModel->filter ?>

    <div class="box-body text-right">
        <a class="btn btn-primary" href="<?= $this->url(
            $viewModel->route,
            ['controller' => 'new']
        ) ?>">New entity</a>
    </div>

    <div class="box">
        <div class="box-body">

            <?php
            $tableViewModel = $viewModel->getTableViewModel();
            $tableViewModel->setEntities($viewModel->getCollection());

            echo $this->render($tableViewModel);
            ?>

            <div class="pull-right">
                <?= $viewModel->paginator ?>
            </div>
        </div>
    </div>
</section>
