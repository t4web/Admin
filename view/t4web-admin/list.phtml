<?php
/** @var T4webAdmin\View\Model\ListViewModel $viewModel */
$viewModel = $this->viewModel()->getCurrent();
?>

<section class="content-header">
    <h1>List of entities</h1>
</section>

<section class="content">

    <?= $viewModel->filter ?>

    <div class="box-body text-right">
        <a class="btn btn-primary" href="<?= $this->url($viewModel->route, ['controller' => 'new']) ?>">New entity</a>
    </div>

    <div class="box">
        <?php if ($viewModel->getCollection()->count() > 0): ?>
            <div class="box-body no-padding">
                <?php $tableViewModel = $viewModel->getTableViewModel(); ?>
                <?php $tableViewModel->setEntities($viewModel->getCollection()); ?>
                <?= $this->render($tableViewModel);?>
            </div>

            <div class="box-footer">
                <?= $viewModel->paginator ?>
            </div>
        <?php else: ?>
            <div class="box-header">
                <h3 class="box-title">Entities not found</h3>
            </div>
        <?php endif; ?>
    </div>
</section>
